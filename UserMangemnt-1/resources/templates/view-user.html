<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
   <div class="container mt-5">
	   <h3>List Of Users</h3>
	   <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Satish</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/user">View User</a>
        </li>
     
      </ul>
      
    </div>
  </div>
</nav>
<div>
<p th:text= "${msg}" class="text-success"></p>
<table class="table table-bordered table-striped">
	<thead>
		<tr>
			<td>Userid</td>
			<td>FullName</td>
			<td>Email</td>
			<td>Phone Number</td>
			<td>Gender</td>
			<td>DOB</td>
			<td>SSN</td>
			<td>Edit</td>
			<td>Delete</td>
			<td>Action</td>
		</tr>
	</thead>
	<tbody>
		<tr th:each="user: ${users}">
			<td th:text="${user.userid}"></td>
			<td th:text="${user.fullname}"></td>
			<td th:text="${user.email}"></td>
			<td th:text="${user.PHNO}"></td>
			<td th:text="${user.Gender}"></td>
			<td th:text="${user.DOB}"></td>
			<td th:text="${user.SSN}"></td>
			<td><a th:href="@{/edit?(id=${user.userid})}" class="btn btn-success">Edit</a></td>
			<td><a th:href="@{/delete?(id=${user.userid})}" class="btn btn-danger">Delete</a></td>
			<!--<td><a class="btn btn-info" th:href="@{/edit/{userid}(userid=${user.userid})}">Edit</a></td>
            <td><a class="btn btn-danger" th:href="@{/delete/{userid}(userid=${user.userid})}">Delete</a></td>
	       <td>
      <form th:action="@{/toggleActivation}" method="post">
               <input type="hidden" name="userId" th:value="${user.userid}" />
               <span th:switch="${user.Active_Sw}">
                <i th:case="Y" class="fas fa-check red-text">
                <button class="btn btn-danger" type="submit">Deactivate</button>
                </i>
               <i th:case="N" class="fas fa-check red-text">
               <button class="btn btn-success" type="submit">Activate</button>
           </i>
          </span>
       </form>

                    <form th:action="@{/toggleActivation}" method="post">
                        <input type="hidden" name="userId" th:value="${user.userid}" />
                        <span th:switch="${user.Active_Sw}">
                        <i> th:case="Y" class="fas fa-check red-text">
                        <button  class="btn btn-danger" type="submit">De-Activate</button></i>
                         <i> th:case="N" class="fas fa-check red-text">
                        <button  class="btn btn-success" type="submit">Activate</button></i>
                        </span>
                    </form>-->
                </td>
	        <span th:switch="${user.Active_Sw}">
  <i th:case="Y" class="fas fa-check red-text">
	  <td><a th:href="@{/update?(id=${user.userid}),status=N}" class="btn btn-danger">De-Activate</a></td>
  </i>
  <i th:case="N" class="fas fa-times orange-text">
	  <td><a th:href="@{/update?(id=${user.userid}),sattus=Y}" class="btn btn-success">Activate</a></td>
  </i>
 
</span>
			
		</tr>
	</tbody>
</table>
</div>	   

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  </body>
</html>
